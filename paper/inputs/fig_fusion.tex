%!TEX root = ../egpaper_for_review.tex

\tikzstyle{nS}=[circle,minimum size = 0.6cm,inner sep = 0pt,draw, font=\small,align=left]
\tikzstyle{nD}=[shape = circle split,rotate=45,minimum size = 0.6cm,inner sep = 0pt,draw, font=\small,align=left]

\tikzstyle{eS}=[thick,minimum size = 0.5cm,inner sep = 0pt,draw, font=\small,align=left]
\tikzstyle{eC}=[very thick,minimum size = 0.5cm,inner sep = 0pt,draw=red, font=\small,align=left]
\tikzstyle{eNC}=[very thick,minimum size = 0.5cm,inner sep = 0pt,draw=green!70!black, font=\small,align=left, line width=1mm]
\tikzstyle{eNS}=[fill=white,minimum size = 0.5cm,inner sep = 0pt, font=\tiny,align=left]
\tikzstyle{eCC}=[very thick,dotted,minimum size = 0.5cm,inner sep = 0pt,draw=black, font=\small,align=left, draw=red!70!black, line width=1mm]

\tikzset{
  head/.style = {fill = orange!90!blue,
                 label = center:\textsf{\Huge H}},
  tail/.style = {fill = blue!70!yellow, text = black,
                 label = center:\textsf{\Huge T}}
}

\begin{center}
\begin{figure}[ht]
\resizebox{\linewidth}{!}{
    \begin{tikzpicture}[scale=1]%[x=1 cm, y=1 cm]


            \draw (-3.25,3) node[rotate=90] (dummy){
                \huge{proposal edge labeling}
            };

            \draw [decorate,decoration={brace,amplitude=10pt},xshift=-4pt,yshift=0pt]
            (1-2,3.5) -- (1-2,6.5) node [black,midway,xshift=-1.2cm,rotate=90,align=left] 
            {\huge{$\bm{y'}$}};

            \draw [decorate,decoration={brace,amplitude=10pt},xshift=-4pt,yshift=0pt]
            (1-2,3-3.5) -- (1-2,6.5-4) node [black,midway,xshift=-1.2cm, rotate=90,align=left] 
            {\huge{$\bm{y''}$}};

            \draw (2.75,3) node[rotate=90] (dummy){
                \huge{proposal node labeling}
            };

            \draw [decorate,decoration={brace,amplitude=10pt},xshift=-4pt,yshift=0pt]
            (5,3.5) -- (5,6.5) node [black,midway,xshift=-1.2cm,rotate=90,align=left] 
            {\huge{$\bm{l'}$}};

            \draw [decorate,decoration={brace,amplitude=10pt},xshift=-4pt,yshift=0pt]
            (5,3-3.5) -- (5,6.5-4) node [black,midway,xshift=-1.2cm, rotate=90,align=left] 
            {\huge{$\bm{l''}$}};


            \draw [decorate,decoration={brace,amplitude=10pt},xshift=-4pt,yshift=0pt]
            (5,-4.5) -- (5,-1.5) node [black,midway,xshift=-1.2cm, rotate=90,align=left] 
            {\huge{Fusion Move} \\ \huge{Problem}};




            \draw (2-2.5,2+4) node[nS] (n0) {$0$}; 
            \draw (4-2.5,2+4) node[nS] (n1) {$1$};
            \draw (2-2.5,0+4) node[nS] (n3) {$2$}; 
            \draw (4-2.5,0+4) node[nS] (n4) {$3$};
            \path
                (n0) edge[eNotCut] node[eNS]{$w_{01}$} (n1) 
                (n3) edge[eNotCut] node[eNS]{$w_{23}$} (n4) 
                (n0) edge[eCut] node[eNS]{$w_{02}$} (n3)
                (n1) edge[eCut] node[eNS]{$w_{13}$} (n4)
            ;

            \draw (2-2.5,2) node[nS] (n0) {$0$}; 
            \draw (4-2.5,2) node[nS] (n1) {$1$};
            \draw (2-2.5,0) node[nS] (n3) {$2$}; 
            \draw (4-2.5,0) node[nS] (n4) {$3$};
            \path
                (n0) edge[eCut] node[eNS]{$w_{01}$} (n1) 
                (n3) edge[eCut] node[eNS]{$w_{23}$} (n4) 
                (n0) edge[eNotCut] node[eNS]{$w_{02}$} (n3)
                (n1) edge[eNotCut] node[eNS]{$w_{13}$} (n4)
            ;






            % first segmentation as coloring
            \draw (2+3.5,2+4) node[nS,fill=red!60] (n0) {$0$}; 
            \draw (4+3.5,2+4) node[nS,fill=red!60] (n1) {$1$};
            \draw (2+3.5,0+4) node[nS,fill=green!60] (n3) {$2$}; 
            \draw (4+3.5,0+4) node[nS,fill=green!60] (n4) {$3$};
            \path
                (n0) edge[eBlack] node[eNS]{$w_{01}$} (n1) 
                (n3) edge[eBlack] node[eNS]{$w_{23}$} (n4) 
                (n0) edge[eBlack] node[eNS]{$w_{02}$} (n3)
                (n1) edge[eBlack] node[eNS]{$w_{13}$} (n4)
            ;


            % 1. FUSION
            \draw (2+3.5,2) node[nS,fill=red!60] (n0) {$0$}; 
            \draw (4+3.5,2) node[nS,fill=green!60] (n1) {$1$};
            \draw (2+3.5,0) node[nS,fill=red!60] (n3) {$2$}; 
            \draw (4+3.5,0) node[nS,fill=green!60] (n4) {$3$};
            \path
                (n0) edge[eBlack] node[eNS]{$w_{01}$} (n1) 
                (n3) edge[eBlack] node[eNS]{$w_{23}$} (n4) 
                (n0) edge[eBlack] node[eNS]{$w_{02}$} (n3)
                (n1) edge[eBlack] node[eNS]{$w_{13}$} (n4)
            ;

            \draw (2+3.5,2-4) node[nD, circle split part fill={red!60, red!60}] (n0) {$ $}; 
            \draw (4+3.5,2-4) node[nD, circle split part fill={red!60, green!60}] (n1) {$ $};
            \draw (2+3.5,0-4) node[nD, circle split part fill={green!60, red!60}] (n3) {$ $}; 
            \draw (4+3.5,0-4) node[nD, circle split part fill={green!60, green!60}] (n4) {$ $};
            \path
                (n0) edge[eBlack] node[eNS]{$w_{01}$} (n1) 
                (n3) edge[eBlack] node[eNS]{$w_{23}$} (n4) 
                (n0) edge[eBlack] node[eNS]{$w_{02}$} (n3)
                (n1) edge[eBlack] node[eNS]{$w_{13}$} (n4)
            ;

            % 2. FUSION
            \draw (2+7,2) node[nS,fill=red!60] (n0) {$0$}; 
            \draw (4+7,2) node[nS,fill=blue!60] (n1) {$1$};
            \draw (2+7,0) node[nS,fill=red!60] (n3) {$2$}; 
            \draw (4+7,0) node[nS,fill=blue!60] (n4) {$3$};
            \path
                (n0) edge[eBlack] node[eNS]{$w_{01}$} (n1) 
                (n3) edge[eBlack] node[eNS]{$w_{23}$} (n4) 
                (n0) edge[eBlack] node[eNS]{$w_{02}$} (n3)
                (n1) edge[eBlack] node[eNS]{$w_{13}$} (n4)
            ;

            \draw (2+7,2-4) node[nD, circle split part fill={red!60, red!60}] (n0) {$ $}; 
            \draw (4+7,2-4) node[nD, circle split part fill={red!60, blue!60}] (n1) {$ $};
            \draw (2+7,0-4) node[nD, circle split part fill={green!60, red!60}] (n3) {$ $}; 
            \draw (4+7,0-4) node[nD, circle split part fill={green!60, blue!60}] (n4) {$ $};
            \path
                (n0) edge[eBlack] node[eNS]{$w_{01}$} (n1) 
                (n3) edge[eBlack] node[eNS]{$w_{23}$} (n4) 
                (n0) edge[eBlack] node[eNS]{$w_{02}$} (n3)
                (n1) edge[eBlack] node[eNS]{$w_{13}$} (n4)
            ;



            % 3. FUSION
            \draw (2+10.5,2) node[nS,fill=green!60] (n0) {$0$}; 
            \draw (4+10.5,2) node[nS,fill=red!60] (n1) {$1$};
            \draw (2+10.5,0) node[nS,fill=green!60] (n3) {$2$}; 
            \draw (4+10.5,0) node[nS,fill=red!60] (n4) {$3$};
            \path
                (n0) edge[eBlack] node[eNS]{$w_{01}$} (n1) 
                (n3) edge[eBlack] node[eNS]{$w_{23}$} (n4) 
                (n0) edge[eBlack] node[eNS]{$w_{02}$} (n3)
                (n1) edge[eBlack] node[eNS]{$w_{13}$} (n4)
            ;

            \draw (2+10.5,2-4) node[nD, circle split part fill={red!60, green!60}] (n0) {$ $}; 
            \draw (4+10.5,2-4) node[nD, circle split part fill={red!60, red!60}] (n1) {$ $};
            \draw (2+10.5,0-4) node[nD, circle split part fill={green!60, green!60}] (n3) {$ $}; 
            \draw (4+10.5,0-4) node[nD, circle split part fill={green!60, red!60}] (n4) {$ $};
            \path
                (n0) edge[eBlack] node[eNS]{$w_{01}$} (n1) 
                (n3) edge[eBlack] node[eNS]{$w_{23}$} (n4) 
                (n0) edge[eBlack] node[eNS]{$w_{02}$} (n3)
                (n1) edge[eBlack] node[eNS]{$w_{13}$} (n4)
            ;


            % 4. FUSION
            \draw (2+14,2) node[nS,fill=green!60] (n0) {$0$}; 
            \draw (4+14,2) node[nS,fill=blue!60] (n1) {$1$};
            \draw (2+14,0) node[nS,fill=green!60] (n3) {$2$}; 
            \draw (4+14,0) node[nS,fill=blue!60] (n4) {$3$};
            \path
                (n0) edge[eBlack] node[eNS]{$w_{01}$} (n1) 
                (n3) edge[eBlack] node[eNS]{$w_{23}$} (n4) 
                (n0) edge[eBlack] node[eNS]{$w_{02}$} (n3)
                (n1) edge[eBlack] node[eNS]{$w_{13}$} (n4)
            ;

            \draw (2+14,2-4) node[nD, circle split part fill={red!60, green!60}] (n0) {$ $}; 
            \draw (4+14,2-4) node[nD, circle split part fill={red!60, blue!60}] (n1) {$ $};
            \draw (2+14,0-4) node[nD, circle split part fill={green!60, green!60}] (n3) {$ $}; 
            \draw (4+14,0-4) node[nD, circle split part fill={green!60, blue!60}] (n4) {$ $};
            \path
                (n0) edge[eBlack] node[eNS]{$w_{01}$} (n1) 
                (n3) edge[eBlack] node[eNS]{$w_{23}$} (n4) 
                (n0) edge[eBlack] node[eNS]{$w_{02}$} (n3)
                (n1) edge[eBlack] node[eNS]{$w_{13}$} (n4)
            ;

            % 5. FUSION
            \draw (2+17.5,2) node[nS,fill=blue!60] (n0) {$0$}; 
            \draw (4+17.5,2) node[nS,fill=red!60] (n1) {$1$};
            \draw (2+17.5,0) node[nS,fill=blue!60] (n3) {$2$}; 
            \draw (4+17.5,0) node[nS,fill=red!60] (n4) {$3$};
            \path
                (n0) edge[eBlack] node[eNS]{$w_{01}$} (n1) 
                (n3) edge[eBlack] node[eNS]{$w_{23}$} (n4) 
                (n0) edge[eBlack] node[eNS]{$w_{02}$} (n3)
                (n1) edge[eBlack] node[eNS]{$w_{13}$} (n4)
            ;

            \draw (2+17.5,2-4) node[nD, circle split part fill={red!60, blue!60}] (n0) {$ $}; 
            \draw (4+17.5,2-4) node[nD, circle split part fill={red!60, red!60}] (n1) {$ $};
            \draw (2+17.5,0-4) node[nD, circle split part fill={green!60, blue!60}] (n3) {$ $}; 
            \draw (4+17.5,0-4) node[nD, circle split part fill={green!60, red!60}] (n4) {$ $};
            \path
                (n0) edge[eBlack] node[eNS]{$w_{01}$} (n1) 
                (n3) edge[eBlack] node[eNS]{$w_{23}$} (n4) 
                (n0) edge[eBlack] node[eNS]{$w_{02}$} (n3)
                (n1) edge[eBlack] node[eNS]{$w_{13}$} (n4)
            ;



            % 6. FUSION
            \draw (2+21,2) node[nS,fill=blue!60] (n0) {$0$}; 
            \draw (4+21,2) node[nS,fill=green!60] (n1) {$1$};
            \draw (2+21,0) node[nS,fill=blue!60] (n3) {$2$}; 
            \draw (4+21,0) node[nS,fill=green!60] (n4) {$3$};
            \path
                (n0) edge[eBlack] node[eNS]{$w_{01}$} (n1) 
                (n3) edge[eBlack] node[eNS]{$w_{23}$} (n4) 
                (n0) edge[eBlack] node[eNS]{$w_{02}$} (n3)
                (n1) edge[eBlack] node[eNS]{$w_{13}$} (n4)
            ;

            \draw (2+21,2-4) node[nD, circle split part fill={red!60, blue!60}] (n0) {$ $}; 
            \draw (4+21,2-4) node[nD, circle split part fill={red!60, green!60}] (n1) {$ $};
            \draw (2+21,0-4) node[nD, circle split part fill={green!60, blue!60}] (n3) {$ $}; 
            \draw (4+21,0-4) node[nD, circle split part fill={green!60, green!60}] (n4) {$ $};
            \path
                (n0) edge[eBlack] node[eNS]{$w_{01}$} (n1) 
                (n3) edge[eBlack] node[eNS]{$w_{23}$} (n4) 
                (n0) edge[eBlack] node[eNS]{$w_{02}$} (n3)
                (n1) edge[eBlack] node[eNS]{$w_{13}$} (n4)
            ;



            % 7. FUSION
            \draw (2+24.5,2) node[nS,fill=blue!60] (n0) {$0$}; 
            \draw (4+24.5,2) node[nS,fill=yellow!60] (n1) {$1$};
            \draw (2+24.5,0) node[nS,fill=blue!60] (n3) {$2$}; 
            \draw (4+24.5,0) node[nS,fill=yellow!60] (n4) {$3$};
            \path
                (n0) edge[eBlack] node[eNS]{$w_{01}$} (n1) 
                (n3) edge[eBlack] node[eNS]{$w_{23}$} (n4) 
                (n0) edge[eBlack] node[eNS]{$w_{02}$} (n3)
                (n1) edge[eBlack] node[eNS]{$w_{13}$} (n4)
            ;

            \draw (2+24.5,2-4) node[nD, circle split part fill={red!60, blue!60}] (n0) {$ $}; 
            \draw (4+24.5,2-4) node[nD, circle split part fill={red!60, yellow!60}] (n1) {$ $};
            \draw (2.+24.5,0-4) node[nD, circle split part fill={green!60, blue!60}] (n3) {$ $}; 
            \draw (4+24.5,0-4) node[nD, circle split part fill={green!60, yellow!60}] (n4) {$ $};
            \path
                (n0) edge[eBlack] node[eNS]{$w_{01}$} (n1) 
                (n3) edge[eBlack] node[eNS]{$w_{23}$} (n4) 
                (n0) edge[eBlack] node[eNS]{$w_{02}$} (n3)
                (n1) edge[eBlack] node[eNS]{$w_{13}$} (n4)
            ;

            \draw [decorate,decoration={brace,amplitude=10pt,mirror,raise=4pt},yshift=0.8cm]
            (5,-6) -- (29,-6) node [black,midway,xshift=0cm,yshift=-1cm] 
            {
                \huge{For all different colorings $\bm{l''}$, the binary fusion move subproblem is different.}
            };


            \draw [decorate,decoration={brace,amplitude=10pt,raise=4pt},yshift=0.8cm]
            (5,2) -- (29,2) node [black,midway,xshift=0cm,yshift=1cm] 
            {
                \huge{All these node labelings encode the same partition}
            };

            \draw[black] (5,-1) -- (29,-1);

    \end{tikzpicture}
}
\caption{
To fuse two edge labelings $y'$ and $y''$ with fusion moves
as defined by Lempitsky \etal~\cite{Lempitsky-2010} 
$y'$ and $y''$ need to be transfered to the node domain.
The mapping from edge labels to node labels is ambiguous and
even for this small graph there are seven node labels
which result in different binary fusion move problems.
Enumerating all labelings for a graph of non trival size
becomes intractable and choosing one labeling is complexity arbitrary.
%
%Furthermore it should be noted that 
}\label{fig:fusion_abiguty}
\end{figure}
\end{center}



