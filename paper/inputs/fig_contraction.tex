%!TEX root = ../egpaper_for_review.tex

\tikzstyle{nS}=[circle,minimum size = 0.6cm,inner sep = 0pt,draw, font=\small,align=left]
\tikzstyle{eS}=[thick,minimum size = 0.5cm,inner sep = 0pt,draw, font=\small,align=left]
\tikzstyle{eC}=[very thick,minimum size = 0.5cm,inner sep = 0pt,draw=red, font=\small,align=left]
\tikzstyle{eNC}=[very thick,minimum size = 0.5cm,inner sep = 0pt,draw=green, font=\small,align=left]
\tikzstyle{eNS}=[fill=white,minimum size = 0.5cm,inner sep = 0pt, font=\tiny,align=left]
\tikzstyle{eCC}=[very thick,dotted,minimum size = 0.5cm,inner sep = 0pt,draw=black, font=\small,align=left]

\begin{center}
\begin{figure}[t]
    \begin{subfigure}{0.45\linewidth}
    \resizebox{1\linewidth}{!}{
        \begin{tikzpicture}[scale=1]%[x=1 cm, y=1 cm]


                \draw (0,2) node[nS] (n0) {$0$}; 
                \draw (2,2) node[nS] (n1) {$1$};
                \draw (4,2) node[nS] (n2) {$2$};
                \draw (0,0) node[nS] (n3) {$3$}; 
                \draw (2,0) node[nS] (n4) {$4$};
                \draw (4,0) node[nS] (n5) {$5$};
                \path
                    (n0) edge[eCut] node[eNS]{$w_{01}$} (n1) 
                    (n1) edge[eCut] node[eNS]{$w_{12}$} (n2) 
                    (n3) edge[eCut] node[eNS]{$w_{34}$} (n4) 
                    (n4) edge[eCut] node[eNS]{$w_{45}$} (n5)
                    (n0) edge[eNotCut] node[eNS]{$w_{03}$} (n3)
                    (n1) edge[eNotCut] node[eNS]{$w_{14}$} (n4)
                    (n2) edge[eNotCut] node[eNS]{$w_{25}$} (n5)
                ;

                \draw (0,2-3.5) node[nS] (n0) {$\{0,3\}$}; 
                \draw (2,2-3.5) node[nS] (n1) {$\{1,4\}$};
                \draw (4,2-3.5) node[nS] (n2) {$\{2,5\}$};
                %\draw (2,0) node[nS] (n3) {$3$}; 
                %\draw (4,0) node[nS] (n4) {$4$};
                %\draw (6,0) node[nS] (n5) {$5$};
                \path
                    (n0) edge[eBlack] node[eNS]{$w_{01}+$\\$w_{34}$} (n1) 
                    (n1) edge[eBlack] node[eNS]{$w_{12}+$\\$w_{45}$} (n2) 
                    %(n3) edge[eCut] node[eNS]{$w_{34}$} (n4) 
                    %(n4) edge[eCut] node[eNS]{$w_{45}$} (n5)
                    %(n0) edge[eNotCut] node[eNS]{$w_{03}$} (n3)
                    %(n1) edge[eNotCut] node[eNS]{$w_{14}$} (n4)
                    %(n2) edge[eNotCut] node[eNS]{$w_{25}$} (n5)
                ;

             

        \end{tikzpicture}
    }
    \caption{Graph contraction}\label{fig:contraction_a}
    \end{subfigure}
    \hfill
    \begin{subfigure}{0.45\linewidth}
    \resizebox{1\linewidth}{!}{
        \begin{tikzpicture}[scale=1]%[x=1 cm, y=1 cm]

             
                \draw (0,0) node[nS] (n0) {$\{0,3\}$}; 
                \draw (2,0) node[nS] (n1) {$\{1,4\}$};
                \draw (4,0) node[nS] (n2) {$\{2,5\}$};
                %\draw (4,0) node[nS] (n4) {$4$};
                %\draw (6,0) node[nS] (n5) {$5$};
                \path
                    (n0) edge[eNotCut] node[eNS]{$w_{01}+$\\$w_{34}$} (n1) 
                    (n1) edge[eCut] node[eNS]{$w_{12}+$\\$w_{45}$} (n2) 
                    %(n3) edge[eCut] node[eNS]{$w_{34}$} (n4) 
                    %(n4) edge[eCut] node[eNS]{$w_{45}$} (n5)
                    %(n0) edge[eNotCut] node[eNS]{$w_{03}$} (n3)
                    %(n1) edge[eNotCut] node[eNS]{$w_{14}$} (n4)
                    %(n2) edge[eNotCut] node[eNS]{$w_{25}$} (n5)
                ;

                \draw (0,2-3.5) node[nS] (n0) {$0$}; 
                \draw (2,2-3.5) node[nS] (n1) {$1$};
                \draw (4,2-3.5) node[nS] (n2) {$2$};
                \draw (0,0-3.5) node[nS] (n3) {$3$}; 
                \draw (2,0-3.5) node[nS] (n4) {$4$};
                \draw (4,0-3.5) node[nS] (n5) {$5$};
                \path
                    (n0) edge[eNotCut] node[eNS]{$w_{01}$} (n1) 
                    (n1) edge[eCut] node[eNS]{$w_{12}$} (n2) 
                    (n3) edge[eNotCut] node[eNS]{$w_{34}$} (n4) 
                    (n4) edge[eCut] node[eNS]{$w_{45}$} (n5)
                    (n0) edge[eNotCut] node[eNS]{$w_{03}$} (n3)
                    (n1) edge[eNotCut] node[eNS]{$w_{14}$} (n4)
                    (n2) edge[eNotCut] node[eNS]{$w_{25}$} (n5)
                ;

        \end{tikzpicture}
    }
    \caption{Back projection}\label{fig:contraction_b}
    \end{subfigure}

\caption{
\textbf{(a)} Given a graph $G=(V, E, w)$ and a consistent edge labeling $y\in P(G)$, shown by solid and dotted lines, the contraction 
graph  $G_y=(V_y,E_y, w_y) $ is constructed by contracting uncut nodes and edges in $G$ w.r.t. $y$.
%
\textbf{(b)} 
Given an edge labeling $\bar{y}^*$ of a contracted graph $G_y=(V_y,E_y, w_y)$,
we can back project the edge labeling to the original graph.
%A cut $y^*$ defined on $G_y$  (fig.~\ref{fig:cont_c}) can be projected to $G$ (fig.~\ref{fig:cont_d}).
}\label{fig:contraction}
\end{figure}
\end{center}



