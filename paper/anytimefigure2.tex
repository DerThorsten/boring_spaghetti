%!TEX root = egpaper_for_review.tex
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\pgfplotsset{every axis legend/.append style={
at={(1.0,1.2)},
anchor=north east}} 
\begin{figure*}[p]
  \begin{subfigure}[b]{0.33\textwidth}
  \centering
  \begin{tikzpicture}
  \begin{semilogxaxis}[  mark size=1pt,
  %restrict y to domain=0:4620,
  xlabel = {runtime},
  xmin = 0,
  xmax = 4100,
  width = 1.0\columnwidth,
  scaled ticks = false,
  every axis legend/.code={\let\addlegendentry\relax} 
  ]
  \addplot[color=yellow,mark=o] table[x=time, y=PIVOT*]{data3/image-seg.data};    \addlegendentry{PIVOT-BOEM}  
  \anytimeplot{image-seg}
  \end{semilogxaxis}
  \end{tikzpicture}
  
  \caption{image-seg}\label{fig:at:image-seg}
  \end{subfigure}
  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
  \begin{subfigure}[b]{0.33\textwidth}
    \centering
    \begin{tikzpicture}
    \begin{semilogxaxis}[  mark size=1pt,
   % restrict y to domain=-6000:-4400,
    xlabel = {runtime},
    xmin = 0,
    xmax = 100,
    width = 1.0\columnwidth,
    scaled ticks = false,
    every axis legend/.code={\let\addlegendentry\relax} 
    ] 
    \addplot[color=yellow,mark=o] table[x=time, y=PIVOT*]{data3/knott-3d-150.data};          \addlegendentry{PIVOT-BOEM}
    \anytimeplot{knott-3d-150}
  
    \end{semilogxaxis}
    \end{tikzpicture}
    \caption{knott-3d-150}\label{fig:at:knott-150}
  \end{subfigure}
  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  \begin{subfigure}[b]{0.33\textwidth}
  \centering
  \begin{tikzpicture}
  \begin{semilogxaxis}[  mark size=1pt,
  %restrict y to domain=-40000:-24000,
  xlabel = {runtime},
  xmin = 0,
  xmax = 4100,
  width = 1.0\columnwidth,
  scaled ticks = false,
  %legend to name = ledgendPosition,
  legend columns=6,
  every axis legend/.code={\let\addlegendentry\relax} 
  ]
  \addplot[color=yellow,mark=o] table[x=time, y=PIVOT*]{data3/knott-3d-300.data};          \addlegendentry{PIVOT-BOEM}  
  \anytimeplot{knott-3d-300}
  \end{semilogxaxis}
  \end{tikzpicture}
  \caption{knott-3d-300}\label{fig:at:knott-300}
  \end{subfigure}
  {\color{gray}\hspace{1cm}\rule{0.939\textwidth}{1pt}}\vspace{0.2cm}
  \newline
  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  \begin{subfigure}[b]{0.33\textwidth}
  \centering
  \begin{tikzpicture}
  \begin{semilogxaxis}[  mark size=1pt,
  restrict y to domain=-80000:-60000,
  xlabel = {runtime},
  xmin = 0,
  xmax = 4100,
  width = 1.0\columnwidth,
  scaled ticks = false,
  every axis legend/.code={\let\addlegendentry\relax} 
  ] 
  \anytimeplot{knott-3d-450} 
  \end{semilogxaxis}
  \end{tikzpicture}
  \caption{knott-3d-450}\label{fig:at:knott-450}
  \end{subfigure}
  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  \begin{subfigure}[b]{0.33\textwidth}
  \centering
  \begin{tikzpicture}
  \begin{semilogxaxis}[  mark size=1pt,
  restrict y to domain=-10000000:-100000,
  xlabel = {runtime},
  xmin = 0,
  xmax = 4100,
  width = 1.0\columnwidth,
  scaled ticks = false,
  every axis legend/.code={\let\addlegendentry\relax} 
  ]
  \anytimeplot{knott-3d-550} 
  \end{semilogxaxis}
  \end{tikzpicture}
  \caption{knott-3d-550}\label{fig:at:knott-550}
  \end{subfigure}
  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\begin{subfigure}[H]
  \begin{subfigure}[b]{0.33\textwidth}
  \centering
  \begin{tikzpicture}
  \begin{semilogxaxis}[  mark size=1pt,
  %restrict y to domain=-10000000:-100000,
  %restrict y to domain=-10000000:1200000,
  xlabel = {runtime},
  xmin = 0,
  xmax = 4100,
  width = 1.0\columnwidth,
  scaled ticks = false,
  every axis legend/.code={\let\addlegendentry\relax} 
  ] 
  \anytimeplot{seg-3d} 
  \end{semilogxaxis}
  \end{tikzpicture}
  \caption{seg-3d}\label{fig:at:seg3d}
  \end{subfigure}
  {\color{gray}\hspace{1cm}\rule{0.93\textwidth}{1pt}}\vspace{0.2cm}
  \newline
 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  \begin{subfigure}[b]{0.33\textwidth}
  \centering
  \begin{tikzpicture}
  \begin{semilogxaxis}[  mark size=1pt,
  %restrict y to domain=-10000000:-100000,
  %restrict y to domain=-10000000:100000,
  xlabel = {runtime},
  xmin = 0,
  xmax = 4100,
  width = 1.0\columnwidth,
  scaled ticks = false,
  every axis legend/.code={\let\addlegendentry\relax} 
  ]  
  \anytimeplot{socialnets} 
  \end{semilogxaxis}
  \end{tikzpicture}
  \caption{social nets}\label{fig:at:socialnets}
  \end{subfigure}
 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  \begin{subfigure}[b]{0.33\textwidth}
  \centering
  \begin{tikzpicture}
  \begin{semilogxaxis}[  mark size=1pt,
  %restrict y to domain=-10000000:-100000,
  %restrict y to domain=-10000000:100000,
  xlabel = {runtime},
  xmin = 0,
  xmax = 4100,
  width = 1.0\columnwidth,
  scaled ticks = false,
  every axis legend/.code={\let\addlegendentry\relax} 
  ] 
  \anytimeplot{normalizedsocialnets}
  \end{semilogxaxis}
  \end{tikzpicture}
  \caption{normalized social nets}\label{fig:at:nsocialnets}
  \end{subfigure}
 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  \begin{subfigure}[b]{0.33\textwidth}
  \centering
  \begin{tikzpicture}
  \begin{semilogxaxis}[  mark size=1pt,
  %restrict y to domain=-10000000:-100000,
  %restrict y to domain=-10000000:100000,
  xlabel = {runtime},
  xmin = 0,
  xmax = 4100,
  width = 1.0\columnwidth,
  legend to name = ledgendPosition,
  legend columns=6,
  scaled ticks = false%,
  %every axis legend/.code={\let\addlegendentry\relax} 
  ]
  \addplot[color=yellow,mark=o] table[x=time, y=PIVOT*]{data3/modularity-clustering.data};    \addlegendentry{PIVOT-BOEM} 
  \anytimeplot{modularity-clustering}
  \end{semilogxaxis}
  \end{tikzpicture}
  \caption{modularity clustering}\label{fig:at:modularity}
  \end{subfigure}
 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

  \begin{center}
  \hypersetup{linkcolor = black}
  \ref{ledgendPosition}
  \hypersetup{linkcolor = red}
  \end{center}
  \caption{
    % image seg
    %For the image-seg instances in fig.~\ref{fig:at:image-seg} 
    %Fusion-EHC-MC has performs best and Fusion-WS-MC gives 
    %almost the same results, but a bit slower then with EHC proposals.
    %Using the same proposals but approximate moves (Fusion-EHC-CGC Fusion-WS-CGC )
    %leads to suboptimal results.
  %
    %Global optimal methods (MC-I) and the relaxed version (MC-R) are 
    %still usable fast for these instances.
    %% 3d 
    %For the smallest 3D instances (\ref{fig:at:knott-150}) all solvers
    %except ??? and EHC perform equally, and the proposed fusion algorithms
    %give the best any time performance.
    %
    %% social nets
    %For the social net instances (\ref{fig:at:socialnets},\ref{fig:at:nsocialnets})
    %Fusion-HC-MC and Fusion-HC-CGC perform equally.
    %Only CGC and EHC-CGC leads to better energies after $10^3 sec$, while global optimal methods (MC-I)
    %fail to converge within this time limit.
    %%%%%
    Among all proposed solvers, Fusion-HC-MC has the best
    overall anytime performance.
    %
    With increasing problem size (\ref{fig:at:knott-150}-\ref{fig:at:knott-550} and \ref{fig:at:seg3d})
    the runtimes of MC-I, MC-R and CGC increase drastically, while
    the proposed solvers still scale well.
    For these instances, the EHC started version of CGC outperforms 
    GCG in terms of runtime and energy.
    %% summary
    \newline
    Overall, energy hierarchical clustering based proposals work better
    than watershed based proposals. They converge to similar energies
    but the clustering based approach is faster on all tested instances.
    On all instances except for modularity clustering, it is better
    to solve the fusion move to optimality (Fusion-HC-MC) than using approximations (FUSION-HC-GCG).
    The warm EHC started version of GCG (EHC-CGC) performs better than GCG itself,
    but both are outperformed by the proposed algorithms w.r.t. anytime performance.
    % modularity clustering 
    \newline
    For the modularity clustering instances in fig.~\ref{fig:at:modularity} we see
    an interesting behavior. On these complete graphs, Kernighan Lin (KL) has the 
    best performance.
    The proposed methods perform reasonably, but  KL is faster and leads to better energies.
  }
  \label{fig:anytime}
\end{figure*}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


